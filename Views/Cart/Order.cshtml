@model TKGroopBG.Models.OrderRequest
@{
    ViewData["Title"] = "Заявка";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-5 d-flex justify-content-center">
    <div class="col-md-6">
        <div class="product-info-card">
            <h3 class="text-danger fw-bold mb-3 text-center">Заявка / Поръчка</h3>
            <p class="text-muted text-center mb-4">
                Попълни данните си – количката се прилага автоматично.
            </p>

            <form asp-action="SubmitOrder" asp-controller="Cart" method="post">
                @Html.AntiForgeryToken()

                <div class="mb-3">
                    <label class="form-label">Име</label>
                    <input asp-for="CustomerName" class="form-control" required />
                </div>

                <div class="mb-3">
                    <label class="form-label">Телефон</label>
                    <input asp-for="Phone" class="form-control" required />
                </div>

                <div class="mb-3">
                    <label class="form-label">Имейл</label>
                    <input asp-for="Email" class="form-control" />
                </div>

                <div class="mb-3">
                    <label class="form-label">Адрес (по желание)</label>
                    <input asp-for="Address" class="form-control" />
                </div>

                <div class="mb-4">
                    <label class="form-label">Коментар</label>
                    <textarea asp-for="Comment" class="form-control" rows="3"></textarea>
                </div>

                <input type="hidden" asp-for="CartJson" />

                <button type="submit" class="btn btn-danger w-100 btn-lg">
                    Изпрати заявката
                </button>
            </form>
        </div>
    </div>
</div>

@section Scripts {
<script>
    document.addEventListener("DOMContentLoaded", () => {
        document.querySelector("input[name='CartJson']").value =
            localStorage.getItem("tk_cart") || "";
    });
</script>
}

